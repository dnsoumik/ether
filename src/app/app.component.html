<div fxLayout="column">
  <div fxLayoutAlign="center center">
    <mat-toolbar color="primary" fxLayoutAlign="center center">
      <span>UI Builder v1.0.0</span>
    </mat-toolbar>
  </div>
  <div style="padding-top: 10px;">
    <div fxFlex="20" style="padding: 20px;">
      <div cdkDropList #todoList="cdkDropList" [cdkDropListData]="componentList.basic"
        [cdkDropListConnectedTo]="[doneList]">
        <div class="basic_drag mat-elevation-z4" *ngFor="let comp of componentList.basic" cdkDrag>
          <div fxLayout="row">
            <mat-icon style="margin-right: 5px; font-size: 16pt;">{{comp.icon}}</mat-icon>
            <div style="font-size: 12pt;">{{comp.label}}</div>
          </div>
          <div class="example-custom-placeholder" *cdkDragPlaceholder fxLayoutAlign="center center">
            <mat-icon>keyboard_arrow_left</mat-icon>
            <div>
              Drop here
            </div>
            <mat-icon>keyboard_arrow_right</mat-icon>
          </div>
        </div>
      </div>
    </div>
    <div fxFlex="60" fxLayout="column" fxLayoutAlign="start stretch">
      <div fxLayout="column" fxLayoutAlign="center center">
        <div style="text-align: center;">
          <div>
            <button mat-icon-button matTooltip="Mobile view" (click)="onMobilePreview()">
              <mat-icon>phone_iphone</mat-icon>
            </button>
            <button mat-icon-button matTooltip="Desktop view" (click)="onDesktopPreview()">
              <mat-icon>computer</mat-icon>
            </button>
          </div>
        </div>
        <div id="preview_container" class="example-list" style="width: 100%;" [style]="mainData.style" cdkDropList
          #doneList="cdkDropList" [cdkDropListData]="mainData.data" [cdkDropListConnectedTo]="[todoList]"
          (cdkDropListDropped)="drop2($event)">
          <div fxLayout="row" fxLayoutAlign="space-around stretch" class="example-box mat-elevation-z3"
            (click)="onSelected(i, intex)" *ngFor="let item of mainData.data; let i = index;" cdkDrag>
            <div [fxShow]='item.expand' style="height: auto; background-color: blue; color: blue; width: 10px;">
            </div>
            <div fxLayout="column" style="width: 100%;">
              <div style="padding: 20px;">
                <app-vessel [value]="item"></app-vessel>
              </div>
              <div [fxShow]='item.expand' style="width: 100%;">
                <!-- <mat-expansion-panel class="mat-elevation-z1" (opened)="panelOpenState = true"
                  (closed)="panelOpenState = false">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Action
                    </mat-panel-title>
                    <mat-panel-description>
                    </mat-panel-description>
                    <div class="example-handle" cdkDragHandle>
                      <svg width="15px" fill="currentColor" viewBox="0 0 24 24">
                        <path
                          d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z">
                        </path>
                        <path d="M0 0h24v24H0z" fill="none"></path>
                      </svg>
                    </div>
                  </mat-expansion-panel-header> -->
                <div fxLayout="column" style="width: 100%;">
                  <b style="padding-left: 20px;">Settings</b>
                  <div style="padding: 20px;">
                    <mat-form-field style="width: 100%;" appearance="outline">
                      <mat-label>Change the label</mat-label>
                      <input matInput [(ngModel)]="item.label">
                    </mat-form-field>
                  </div>
                  <div fxFlex="100" fxLayoutAlign="center center">
                    <button matTooltip="Edit" mat-icon-button>
                      <mat-icon>edit</mat-icon>
                    </button>
                    <button mat-icon-button matTooltip="Duplicate">
                      <mat-icon>content_copy</mat-icon>
                    </button>
                    <button mat-icon-button matTooltip="Delete" color="warn" (click)="onDelete(i, item)">
                      <mat-icon>delete</mat-icon>
                    </button>
                    <mat-slide-toggle color="warn">Required</mat-slide-toggle>
                  </div>
                  <div></div>
                </div>
                <!-- </mat-expansion-panel> -->
              </div>
              <div class="example-custom-placeholder" *cdkDragPlaceholder fxLayoutAlign="center center">
                <mat-icon>keyboard_arrow_left</mat-icon>
                <div>
                  Drop here
                </div>
                <mat-icon>keyboard_arrow_right</mat-icon>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div fxFlex="20" style="padding: 20px;">
      <ace-editor [(text)]="mainDataInString" mode="json" style="height:400px;"></ace-editor>
      <ngx-json-viewer [json]="mainData"></ngx-json-viewer>
    </div>
  </div>
</div>